var t=ZAFClient.init();const e="https://ciie7i6u2g.execute-api.us-east-1.amazonaws.com/organization/";var n=null,o="newidmock";function i(){let a={url:e+o,type:"GET",httpCompleteResponse:"true"};t.request(a).then((function(t){200==t.status&&null!=t.responseJSON?(n.value(t.responseJSON.md),s()):n.value("It appears you haven't saved any notes for this Organization yet!")})).catch((function(t){503==t.status?i():(console.error(t),c())}))}function a(){let i=n.value(),s=n.options.previewRender(i),r={id:o,md:i,html:s},u=JSON.stringify(r),l={url:e+o,type:"PUT",contentType:"application/json",data:u};t.request(l).then((function(e){t.invoke("instances.create",{location:"modal",url:"assets/modals/alert-success.html",size:{width:"300px",height:"73px"}}).then((function(t){}))})).catch((function(t){503==t.status?a():(console.error(t),c())}))}function s(){let e=document.getElementById("content");t.invoke("resize",{width:"100%",height:e.offsetHeight+30})}function c(){return t.invoke("instances.create",{location:"modal",url:"assets/modals/alert-error.html",size:{width:"300px",height:"73px"}}).then((function(t){}))}window.addEventListener("load",(function(){n=new SimpleMDE({element:document.getElementById("editor"),autofocus:!0,indentWithTabs:!1,renderingConfig:{singleLineBreaks:!1,codeSyntaxHighlighting:!1},tabSize:2,status:!1}),async function(){o=await new Promise((e=>{t.get("currentAccount").then((function(n){let i=n.currentAccount.subdomain;null!=i?t.get("organization").then((function(t){let e=t.organization.id;return null!=e&&(o=i+"@"+e),o})).then((function(t){e(t)})).catch((function(t){console.error(t.toString())})):console.error("Unable to confirm your Zendesk Instance")})).catch((function(t){console.error(t.toString())}))})),i(),s()}(),document.getElementById("savebtn").addEventListener("click",a,!0)}));
